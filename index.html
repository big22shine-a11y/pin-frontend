<!DOCTYPE html>
<!-- HTML5文書であることを宣言 -->
<html lang="ja">
<head>
  <!-- 文字コードをUTF-8に設定 -->
  <meta charset="UTF-8">

  <!-- スマートフォン対応のビューポート設定 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ブラウザタブに表示されるタイトル -->
  <title>ムーミンたちの場所リアルタイム確認サイト</title>

  <!-- 外部CSSファイルを読み込む -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ページタイトル -->
  <h1>ムーミンたちの出現箇所</h1>

  <!-- ピンの色を選択するラジオボタン -->
  <div id="color-selector">
    <label>
      <input type="radio" name="pinColor" value="red" checked>
      ミィ
    </label>
    <label>
      <input type="radio" name="pinColor" value="#afeeee">
      ムーミン
    </label>
    <label>
      <input type="radio" name="pinColor" value="#6b8e23">
      スナフキン
    </label>
    <label>
      <input type="radio" name="pinColor" value="#1e90ff">
      ムーミンパパ
    </label>
    <label>
      <input type="radio" name="pinColor" value="#ff8c00">
      ムーミンママ
    </label>
    <label>
      <input type="radio" name="pinColor" value="#8b4513">
      スニフ
    </label>
    <label>
      <input type="radio" name="pinColor" value="#000000">
      モラン
    </label>
  </div>

  <!-- ピン情報（コメント＋削除ボタン）表示エリア -->
  <div id="pin-info" class="hidden">
    <!-- ピンの色を表示するテキスト -->
    <p id="pin-comment"></p>

    <!-- ピン削除ボタン -->
    <button id="delete-pin-button">
      このピンを削除
    </button>
  </div>

  <!-- ログ画像エクスポートボタン -->
  <div id="export-controls">
    <button id="export-today-logs">
      今日のログを画像として保存
    </button>
  </div>

  <!-- 画像とピンをまとめるラッパー -->
  <div id="image-wrapper">
    <!-- ピンを立てる対象画像 -->
    <img src="map.jpg" id="image" alt="ピンを立てる画像">
  </div>

  <!-- 外部JavaScriptを読み込む -->
  <!-- Firebase SDK (compat) - optional: used when you configure Firebase below -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-check-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <!-- html2canvas for image export -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <!--
    To enable cross-user persistent pins, create a Firebase project and set
    the config object below (example provided). Place the config script
    *before* loading `script.js` so the page can initialize Firebase.

    Example (replace values with your project's config):
    <script>
      window.FIREBASE_CONFIG = {
        apiKey: "...",
        authDomain: "your-project.firebaseapp.com",
        databaseURL: "https://your-project-default-rtdb.firebaseio.com",
        projectId: "your-project",
        storageBucket: "your-project.appspot.com",
        messagingSenderId: "...",
        appId: "..."
      };
    </script>

    Alternatively set `window.FIREBASE_CONFIG` in DevTools for quick testing.
  -->

  <script>
  // Firebase config injected by user
  window.FIREBASE_CONFIG = {
    apiKey: "AIzaSyCCa19BNXPre1vsNYy1UWzsRdoKdG_kSEc",
    authDomain: "moomin-test-127ad.firebaseapp.com",
    databaseURL: "https://moomin-test-127ad-default-rtdb.firebaseio.com",
    projectId: "moomin-test-127ad",
    storageBucket: "moomin-test-127ad.firebasestorage.app",
    messagingSenderId: "385428931372",
    appId: "1:385428931372:web:c18d38327eb7e6dd57a289",
    measurementId: "G-9SQ2MZ8P07"
  };
  </script>

  <script src="script.js"></script>
</body>
</html>
